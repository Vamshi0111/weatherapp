(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2370:(e,t,a)=>{Promise.resolve().then(a.bind(a,8393))},4436:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var n=a(2115),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=n.createContext&&n.createContext(l),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){var n,l,r;n=e,l=t,r=a[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in n?Object.defineProperty(n,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[l]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>n.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>n.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var a,{attr:l,size:r,title:o}=e,d=function(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}(e,s),u=r||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==r?n.createElement(r.Consumer,null,e=>t(e)):t(l)}},6336:e=>{e.exports={style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"},className:"__className_6bee3b",variable:"__variable_6bee3b"}},8393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(5155),l=a(2115),r=a(6336),s=a.n(r);let i=l.createContext({});function o(e){var t,a,n;let{count:r=1,wrapper:s,className:o,containerClassName:c,containerTestId:d,circle:u=!1,style:m,...g}=e,h=l.useContext(i),p={...g};for(let[e,t]of Object.entries(g))void 0===t&&delete p[e];let y={...h,...p,circle:u},f={...m,...function(e){let{baseColor:t,highlightColor:a,width:n,height:l,borderRadius:r,circle:s,direction:i,duration:o,enableAnimation:c=!0,customHighlightBackground:d}=e,u={};return"rtl"===i&&(u["--animation-direction"]="reverse"),"number"==typeof o&&(u["--animation-duration"]="".concat(o,"s")),c||(u["--pseudo-element-display"]="none"),("string"==typeof n||"number"==typeof n)&&(u.width=n),("string"==typeof l||"number"==typeof l)&&(u.height=l),("string"==typeof r||"number"==typeof r)&&(u.borderRadius=r),s&&(u.borderRadius="50%"),void 0!==t&&(u["--base-color"]=t),void 0!==a&&(u["--highlight-color"]=a),"string"==typeof d&&(u["--custom-highlight-background"]=d),u}(y)},x="react-loading-skeleton";o&&(x+=" ".concat(o));let w=null!=(t=y.inline)&&t,b=[],v=Math.ceil(r);for(let e=0;e<v;e++){let t=f;if(v>r&&e===v-1){let e=null!=(a=t.width)?a:"100%",n=r%1,l="number"==typeof e?e*n:"calc(".concat(e," * ").concat(n,")");t={...t,width:l}}let n=l.createElement("span",{className:x,style:t,key:e},"‌");w?b.push(n):b.push(l.createElement(l.Fragment,{key:e},n,l.createElement("br",null)))}return l.createElement("span",{className:c,"data-testid":d,"aria-live":"polite","aria-busy":null==(n=y.enableAnimation)||n},s?b.map((e,t)=>l.createElement(s,{key:t},e)):b)}var c=a(4315);let d=async(e,t)=>{try{var a,n,l,r;let s=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t)),i=await s.json();return(null==(a=i.address)?void 0:a.city)||(null==(n=i.address)?void 0:n.town)||(null==(l=i.address)?void 0:l.village)||(null==(r=i.address)?void 0:r.state)||"Unknown location"}catch(e){return console.error("Reverse geocoding error:",e),"Unknown location"}},u="27ae066c7154ccdfd436a71623302f0f",m=(e,t)=>{let a=Date.now()/1e3;return console.log("Now: ".concat(a,", Sunrise: ").concat(e,", Sunset: ").concat(t)),a>=e&&a<t},g=(e,t,a,n)=>{console.log("Temp: ".concat(e,", weather: ").concat(t,", windspeed: ").concat(a,", Daytime: ").concat(n));let l=t.toLowerCase();if(l.includes("rain"))return e>30?"Hot and stormy with heavy rain":e<20?"Cold and rainy with strong winds":"Stormy with heavy rain";if(l.includes("cloud"))return e>25?n?"Warm and cloudy":"Mild and cloudy night":e<15?n?"Cool and cloudy":"Chilly and overcast night":n?"Cloudy day":"Cloudy evening";if(l.includes("clear"))if(n)return e>40?"Extremely hot and sunny":e>30?"Hot and sunny":e>20?"Sunny with a gentle breeze":"Clear skies with pleasant temperature";else return e>25?"Clear and warm night":e>15?"Clear night with gentle breeze":"Clear and cool night";return l.includes("snow")?"Snowy and freezing – bundle up!":e>=18&&a>6?"Cool wind blowing":e>=10&&e<18?"Pleasant and cool":e<10?"Cold weather – wear something warm":"Typical day with mild conditions"},h=(e,t)=>{let a=e.toLowerCase();if(t){if(a.includes("sunny")||a.includes("clear skies with pleasant temperature"))return"/images/sunny_day.jpg";if(a.includes("cloudy")||a.includes("overcast")||a.includes("cloudy day")||a.includes("warm and cloudy")||a.includes("cool and cloudy"))return"/images/cloudy_day.jpg";if(a.includes("rain")||a.includes("stormy")||a.includes("hot and stormy")||a.includes("stormy with heavy rain"))return"/images/rainy_day.jpg";if(a.includes("snow")||a.includes("snowy and freezing"))return"/images/snowy_day.jpg";if(a.includes("cold"))return"/images/cold.jpg";if(a.includes("hot"))return"/images/hot.jpg";if(a.includes("cool wind blowing")||a.includes("pleasant and cool")||a.includes("typical day with mild conditions"))return"/images/sunny_day.jpg"}else{if(a.includes("clear night")||a.includes("clear and warm night")||a.includes("clear night with gentle breeze")||a.includes("clear and cool night"))return"/images/clear_night.jpg";if(a.includes("cloudy night")||a.includes("overcast night")||a.includes("mild and cloudy night")||a.includes("chilly and overcast night")||a.includes("cloudy evening"))return"/images/cloudy_night.jpg";if(a.includes("rain")||a.includes("stormy")||a.includes("cold and rainy"))return"/images/rainy_day.jpg";if(a.includes("snow")||a.includes("snowy and freezing")||a.includes("cold weather"))return"/images/snowy_night.jpg"}return t?"/images/sunny_day.jpg":"/images/default_night.jpg"},p=e=>e.includes("sunny_day.jpg")||e.includes("cloudy_day.jpg")||e.includes("cold.jpg")||e.includes("hot.jpg")?"light":e.includes("clear_night.jpg")||e.includes("cloudy_night.jpg")||e.includes("rainy_night.jpg")||e.includes("snowy_night.jpg")||e.includes("rainy_day.jpg")?"dark":"light";function y(){var e;let[t,a]=(0,l.useState)(""),[r,i]=(0,l.useState)(null),[y,f]=(0,l.useState)(!1),[x,w]=(0,l.useState)(""),[b,v]=(0,l.useState)(""),[j,N]=(0,l.useState)(!1),[k,S]=(0,l.useState)([]),[C,_]=(0,l.useState)([]),[O,E]=(0,l.useState)(null),[,P]=(0,l.useState)(null),[,I]=(0,l.useState)(null),[L,F]=(0,l.useState)(null),[z,D]=(0,l.useState)(null),[A,W]=(0,l.useState)([]),[,H]=(0,l.useState)(!0),[M,T]=(0,l.useState)("/images/sunny_day.jpg"),[R,U]=(0,l.useState)("text-black"),G=(0,l.useRef)(null);(0,l.useEffect)(()=>{!async function(){try{let e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=London&appid=".concat(u,"&units=metric"));console.log("Response Status:",e.status);let t=await e.json();if(200===t.cod){let{sunrise:e,sunset:a}=t.sys,n=m(e,a);H(n);let l=g(t.main.temp,t.weather[0].main,t.wind.speed,n);E(l);let r=h(l,n);T(r);let s=p(r);U("dark"===s?"text-white":"text-black")}else{E("No information");let e="/images/sunny_day.jpg";T(e),U("dark"===p(e)?"text-white":"text-black")}}catch(t){console.error("Error fetching weather:",t),E("Failed to fetch weather");let e="/images/sunny_day.jpg";T(e),U("dark"===p(e)?"text-white":"text-black")}}()},[]),(0,l.useEffect)(()=>{let e=()=>{let e=new Date,t=e.getHours(),a=e.getMinutes();if(j)w("".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")));else{let e=t>=12?"PM":"AM",n=t%12||12,l=a<10?"0".concat(a):a;w("".concat(n,":").concat(l," ").concat(e))}v(e.toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric",year:"numeric"}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[j]),(0,l.useEffect)(()=>{let e=localStorage.getItem("favourites");e&&W(JSON.parse(e))},[]);let J=async()=>{if(!t.trim())return void alert("Please enter a city name.");f(!0),i(null);try{let e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&appid=").concat(u)),a=await e.json();if(200===a.cod){i(a),F(a.main.humidity),localStorage.setItem("weather",JSON.stringify(a));let e=a.main.temp_min,t=a.main.temp_max;console.log("Low: ".concat(e,"\xb0C, High: ").concat(t,"\xb0C, Humidity: ").concat(a.main.humidity,", Windspeed: ").concat(a.wind.speed.toFixed(2))),D(a.wind.speed),i(a),P(a.main.temp_min),I(a.main.temp_max);let{sunrise:n,sunset:l}=a.sys,r=m(n,l);H(r);let s=g(a.main.temp,a.weather[0].main,a.wind.speed,r);E(s);let o=h(s,r);T(o);let c=p(o);U("dark"===c?"text-white":"text-black")}else alert(a.message),navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:a}=e.coords;q(t,a)},e=>{console.error("Geolocation error (fallback):",e),alert("Failed to retrieve your location.");let t="/images/sunny_day.jpg";T(t),U("dark"===p(t)?"text-white":"text-black")})}catch(t){console.error(t),alert("Failed to fetch weather data");let e="/images/sunny_day.jpg";T(e),U("dark"===p(e)?"text-white":"text-black")}f(!1)},q=async(e,t)=>{f(!0),i(null);try{let n=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=").concat(u)),l=await n.json();if(200===l.cod){i(l),F(l.main.humidity),localStorage.setItem("weather",JSON.stringify(l));let n=l.main.temp_min,r=l.main.temp_max;console.log("Low: ".concat(n,"\xb0C, High: ").concat(r,"\xb0C, Humidity: ").concat(l.main.humidity,", Windspeed: ").concat(l.wind.speed)),D(l.wind.speed),P(l.main.temp_min),I(l.main.temp_max);let{sunrise:s,sunset:o}=l.sys,c=m(s,o);H(c);let u=await d(e,t);a(u),a("");let y=g(l.main.temp,l.weather[0].main,l.wind.speed,c);E(y);let f=h(y,c);T(f),console.log("This is :",y);let x=p(f);U("dark"===x?"text-white":"text-black")}else{alert(l.message);let e="/images/sunny_day.jpg";T(e),U("dark"===p(e)?"text-white":"text-black")}}catch(t){console.error(t),alert("Failed to fetch weather by location.");let e="/images/sunny_day.jpg";T(e),U("dark"===p(e)?"text-white":"text-black")}f(!1)};return(0,l.useEffect)(()=>{var e;let t;if(!navigator.geolocation)return void alert("Geolocation is not supported by your browser.");let a=()=>{navigator.geolocation.getCurrentPosition(e=>{let{latitude:a,longitude:n}=e.coords;if(!a&&!n)return void console.warn("Invalid coordinates received. Waiting for GPS.");clearInterval(t),q(a,n)},e=>{console.error("Error getting location:",e);let t="Failed to retrieve your location.";switch(e.code){case e.PERMISSION_DENIED:t="Location permission denied. Please allow location access in your browser settings.";break;case e.POSITION_UNAVAILABLE:t="Location unavailable. Please ensure your device's GPS/location services are turned ON.";break;case e.TIMEOUT:t="Request timed out. Try again in an area with better GPS signal."}alert(t)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return null==(e=navigator.permissions)||e.query({name:"geolocation"}).then(e=>{"granted"===e.state||"prompt"===e.state?(a(),t=setInterval(a,3e3)):"denied"===e.state&&alert("Location access is blocked. Please allow it in your browser settings.")}).catch(()=>{a(),t=setInterval(a,3e3)}),()=>{clearInterval(t)}},[]),(0,l.useEffect)(()=>{fetch("/cities.json").then(e=>e.json()).then(e=>S(e)).catch(e=>console.error("Failed to load cities.json",e))},[]),(0,l.useEffect)(()=>{console.log("Suggestions updated:",C)},[C]),(0,l.useEffect)(()=>{let e=localStorage.getItem("favorites");e&&W(JSON.parse(e))},[]),(0,l.useEffect)(()=>{localStorage.setItem("favourites",JSON.stringify(A))},[A]),(0,l.useEffect)(()=>{let e=e=>{G.current&&!G.current.contains(e.target)&&_([])};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[G]),(0,n.jsxs)("div",{className:"flex flex-col bg-white w-full h-screen",children:[(0,n.jsxs)("nav",{className:"flex justify-between items-center h-12 w-full lg:14 px-2 lg:px-3 pr-1",children:[(0,n.jsxs)("div",{className:"flex gap-x-3 items-center",children:[(0,n.jsx)("img",{src:"".concat("","/cloud.png"),alt:"cloud image",className:"h-6 w-6 sm:h-8 sm:w-8"}),(0,n.jsx)("p",{className:"text-black font-medium text-md sm:text-lg ".concat(s().className),children:"Climate check"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-5 text-black cursor-pointer ".concat(s().className),children:[(0,n.jsx)("div",{className:"flex lg:flex sm:flex items-center gap-2 px-4 text-sm hidden sm:block lg:block",ref:G,children:(0,n.jsxs)(n.Fragment,{children:[y?(0,n.jsx)(o,{width:"80%",height:30}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",placeholder:"Search for a city...",value:t,autoComplete:"off",onChange:e=>{let t=e.target.value;if(/^[a-zA-Z\s]*$/.test(t)){let e=t.charAt(0).toUpperCase()+t.slice(1);a(e),e.length>0?_(k.filter(t=>t.name.toLowerCase().startsWith(e.toLowerCase())).slice(0,10)):_([])}},onFocus:()=>{t.length>0&&_(k.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase())).slice(0,10))},onKeyDown:e=>{"Enter"===e.key&&(J(),a(""),_([]))},className:"border border-gray-500 rounded-lg px-3 py-1 w-full max-w-sm focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 ".concat(s().className)}),C.length>0&&(0,n.jsx)("ul",{className:"absolute left-220 lg:w-auto lg:left-220 md:left-94 md:h-auto md:top-[42px] md:w-auto bg-white border border-gray-300 z-50 shadow-lg rounded-md",children:C.map((e,t)=>(0,n.jsxs)("li",{onClick:()=>{a(e.name),_([]),J(),a("")},className:"px-4 py-2 hover:bg-blue-100 cursor-pointer",children:[e.name,", ",e.country]},t))})]}),y?(0,n.jsx)(o,{width:80,height:30}):(0,n.jsx)("button",{onClick:()=>{J(),a(""),_([])},className:"bg-blue-500 cursor-pointer text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-all text-xs ".concat(s().className),children:"Search"})]})}),(0,n.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,n.jsxs)("div",{className:"flex justify-between w-full cursor-pointer",children:[y?(0,n.jsx)(o,{className:"h-5 w-10 rounded-full"}):(0,n.jsx)("button",{className:"cursor-pointer",children:(0,n.jsx)(c.Mbv,{})}),(0,n.jsx)("p",{className:"text-xs flex justify-end lg:flex",onClick:()=>N(e=>!e),children:x})]}),(0,n.jsx)("p",{className:"text-[10px] text-sm text-lg",children:b})]})]})]}),(0,n.jsx)("div",{className:"flex bg-blue-300 flex-col w-full h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(M," )")},children:(0,n.jsxs)("div",{className:"relative flex sm:bg-red-00 lg:h-60 flex-col lg:mt-0 pr-2 sm:flex-col lg:flex-row items:end sm:justify-between justify-start lg:items-start overflow-hidden",children:[(0,n.jsx)("div",{className:"bg-green-00 flex lg:w-[85%] sm:hidden lg:h-70 lg:flex hidden sm:flex items-center px-2",children:y?(0,n.jsx)(o,{height:200}):r?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{className:"".concat(R," lg:text-7xl sm:text-5xl flex flex-wrap ").concat(s().className),children:O})}):null}),(0,n.jsx)("div",{className:"flex relative w-full bg-red-00 lg:hidden sm:hidden items-center justify-end gap-2 pl-[140px] text-sm py-2",ref:G,children:(0,n.jsxs)(n.Fragment,{children:[y?(0,n.jsx)(o,{width:"80%",height:30}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",placeholder:"Search for a city...",value:t,autoComplete:"off",onChange:e=>{let t=e.target.value;if(/^[a-zA-Z\s]*$/.test(t)){let e=t.charAt(0).toUpperCase()+t.slice(1);a(e),e.length>0?_(k.filter(t=>t.name.toLowerCase().startsWith(e.toLowerCase())).slice(0,10)):_([])}},onFocus:()=>{t.length>0&&_(k.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase())).slice(0,10))},onKeyDown:e=>{"Enter"===e.key&&(J(),a(""),_([]))},className:"border border-gray-500 text-black bg-white rounded-lg px-3 py-1 w-full max-w-sm focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 ".concat(s().className)}),C.length>0&&(0,n.jsx)("ul",{className:"absolute bg-white text-black top-11 h-auto left-[140px] border border-gray-300 z-50 shadow-lg rounded-md ".concat(s().className),children:C.map((e,t)=>(0,n.jsxs)("li",{onClick:()=>{a(e.name),_([]),J(),a("")},className:"px-4 py-2 hover:bg-blue-100 cursor-pointer",children:[e.name,", ",e.country]},t))})]}),y?(0,n.jsx)(o,{width:80,height:30}):(0,n.jsx)("button",{onClick:()=>{J(),a(""),_([])},className:"bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-all text-xs ".concat(s().className),children:"Search"})]})}),(0,n.jsxs)("div",{className:"flex flex-col bg-blue-00 items-end justify-center",children:[(0,n.jsx)("div",{className:"flex w-30 bg-red-00 h-auto sm:w-40 lg:h-30 lg:w-50 mt-5 sm:mt-7 justify-center items-center",children:r&&(0,n.jsxs)("p",{className:"text-6xl sm:text-7xl lg:text-9xl font-normal text-black ".concat(R," ").concat(s().className),children:[Math.round(r.main.temp),"\xb0"]})}),(0,n.jsx)("p",{className:"".concat(R," text-[10px] sm:text-sm ").concat(s().className),children:(null==r?void 0:r.name)&&(null==r||null==(e=r.sys)?void 0:e.country)?"- ".concat(r.name,", ").concat(r.sys.country):""}),(0,n.jsx)("div",{className:"lg:mt-1 sm:mt-1 text-end",children:y?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o,{height:"30px",width:"100px"})}):(0,n.jsxs)("p",{className:"".concat(R," text-[6px] lg:text-[10px] sm:text-[8px] ").concat(s().className),children:["Humidity: ",L,"%",(0,n.jsx)("br",{}),"WindSpeed: ",z," Km"]})})]}),y?(0,n.jsx)(o,{height:20,width:40}):(0,n.jsx)("div",{className:"bg-green-00 flex py-3 sm:flex lg:hidden justify-end items-center ml-2 sm:mt-20 sm:justify-start",children:(0,n.jsx)("p",{className:"bg-red-00 text-black sm:text-7xl text-5xl ".concat(R," ").concat(s().className),children:O})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[117,446,441,684,358],()=>t(2370)),_N_E=e.O()}]);